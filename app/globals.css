@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Base page backdrop + typography smoothing --- */
html, body { height: 100%; }
body {
  background: #0B0E13;
  color: #fff;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Selection color (subtle, like live site) */
::selection { background: rgba(255,255,255,.14); color: #fff; }

/* Fix WebKit scroll-bounce tint on dark */
@supports (-webkit-touch-callout: none) {
  body { background-color: #0B0E13; }
}

/* ===========================
   Unified main page title
=========================== */
.page-title {
  @apply text-3xl sm:text-4xl font-extrabold tracking-tight text-white mb-6;
}

/* =========================================
   FULL-SCREEN SPLASH (once per session)
   Hook with a fixed <div class="ep-splash">
   Hide by adding .ep-splash--hide
========================================= */
.ep-splash{
  position: fixed;
  inset: 0;
  z-index: 40;                /* BELOW sticky header (z-50) so hamburger stays clickable */
  background:
    radial-gradient(110% 80% at 50% 20%, #1E64F0 0%, rgba(30,100,240,0.25) 35%, rgba(14,18,24,0.85) 70%, #0E1218 100%);
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  opacity: 1;
  transform: scale(1) translateY(0);
  filter: brightness(.96) saturate(1.06);
  animation: ep-kenburns 4.5s ease-out forwards;
  transition:
    opacity 1s ease,
    transform 1s ease,
    filter 1s ease;
  will-change: opacity, transform, filter;
}

/* Vignette overlay so landing text stays readable while splash is visible */
.ep-splash::after{
  content: "";
  position: absolute; inset: 0;
  background:
    radial-gradient(55% 45% at 50% 30%, rgba(0,0,0,.10), rgba(0,0,0,.28) 55%, rgba(0,0,0,.52)),
    radial-gradient(120% 80% at 50% 100%, rgba(10,14,20,.55), transparent 60%);
  pointer-events: none;
}

/* Exit state (when you want to hide it) */
.ep-splash--hide{
  opacity: 0;
  transform: scale(1.12) translateY(-2%);
  filter: brightness(.85) saturate(1.0) blur(4px);
  pointer-events: none;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .ep-splash{ opacity:0; transform:none; filter:none; animation:none; transition:none; }
}

/* Ken Burns zoom (magnify + subtle upward pan) */
@keyframes ep-kenburns{
  0%   { transform: scale(1) translateY(0);     filter: brightness(.96) saturate(1.06); opacity: 1; }
  60%  { transform: scale(1.07) translateY(-1%); filter: brightness(1)   saturate(1.10); opacity: 1; }
  100% { transform: scale(1.10) translateY(-2%); filter: brightness(.92) saturate(1.02); opacity: 0; }
}

/* ===== Mobile adjustments for splash ===== */
@media (max-width: 640px) {
  .ep-splash{
    /* Briefer + slightly dimmer on small screens */
    animation-duration: 3.2s;
    filter: brightness(.92) saturate(1.02);
    background:
      radial-gradient(120% 85% at 50% 25%, #1E64F0 12%, rgba(30,100,240,0.18) 34%, rgba(14,18,24,0.9) 66%, #0E1218 100%);
  }
}

/* =========================================
   HERO REVEAL (after splash)
   Add .ep-hero to the container to reveal
   Toggle .ep-hero--show when splash finishes
========================================= */
.ep-hero{
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .9s ease .25s, transform .9s ease .25s;
}
.ep-hero.ep-hero--show{
  opacity: 1;
  transform: none;
}

/* =========================================
   HERO GLOW (behind headline/buttons)
   Add .ep-hero-splash to the hero section
   Uses your /imageep2.png softly as a glow
========================================= */
.ep-hero-splash{
  position: relative;
  isolation: isolate; /* keep glow between bg and content */
}
.ep-hero-splash > *{ position: relative; z-index: 1; }

.ep-hero-splash::before{
  content: "";
  position: absolute;
  top: -140px;
  left: 50%;
  transform: translateX(-50%);
  width: min(1400px, 92vw);
  height: 560px;
  background: url("/imageep2.png") center top / 1200px auto no-repeat;
  opacity: 0.88;
  filter: blur(18px) brightness(1.28) saturate(1.12);
  mix-blend-mode: screen;
  pointer-events: none;
  z-index: 0;
}

/* Hide heavy glow on mobile to prevent muddiness & lighten paint cost */
@media (max-width: 640px) {
  .ep-hero-splash::before{
    display: none;
  }
}

/* Crisp image rendering on HiDPI */
.ep-splash img { image-rendering: auto; }